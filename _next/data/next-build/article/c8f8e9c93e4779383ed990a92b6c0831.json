{"pageProps":{"id":"c8f8e9c93e4779383ed990a92b6c0831","title":"理解animation-fill-mode属性","body":"animation-fill-mode作为css3动画的一个重要属性很常见，但是大多用于把动画停在最后一帧，也就是**forwards**值的用法。在多年的前端开发中很少关注其他几个值，今天看[文档](https://developer.mozilla.org/en-US/docs/Web/CSS/animation-fill-mode)发现对于backwards(一直以为就是回到初始状态和none没什么两样)和both一直没有正确的了解，文档英文描述晦涩难懂，demo也没有什么详细说明，所以打算一探究竟。\r\n\r\n### 属性值\r\n- none 默认值\r\n> The animation will not apply any styles to the target when it's not executing. The element will instead be displayed using any other CSS rules applied to it. This is the default value.\r\n\r\n    在动画不执行时，不会赋予任何target任何style，动画执行结束回归原样\r\n- forwards\r\n> The target will retain the computed values set by the last keyframe encountered during execution.\r\n\r\n    target在动画执行结束后保持最后一帧的style\r\n- backwards\r\n\r\n> The animation will apply the values defined in the first relevant keyframe as soon as it is applied to the target, and retain this during the animation-delay period.\r\n\r\n    动画将在执行的第一时间将style赋予target，包括delay的时候，这就是none和backwards的区别，当第一帧的属性和target原来的属性不同的时候特别明显。\r\n- both\r\n\r\n> The animation will follow the rules for both forwards and backwards, thus extending the animation properties in both directions.\r\n    动画将同时有forwards和afterwards的特性。\r\n\r\n### [demo](https://jsfiddle.net/gwl002/57drgsct/23/)\r\n比较4个值不同的表现\r\n- none 小球先是绿色，delay3秒后才变为红色，最后变黄色，回到原点\r\n- forwards 小球先是绿色，delay3秒后才变为红色，最后变黄色，保持在终点\r\n- afterwards 小球直接变红色，delay3秒后，动画开始，慢慢变黄色，动画结束回到原点\r\n- both 小球直接变红色，delay3秒后，动画开始，慢慢变黄色，动画结束保持在终点\r\n\r\n### 总结\r\n以前想当然的以为afterwards就是回到原点，forwards就是保持在终点，其实是错误的。afterwards是在动画开始时第一时间选择第一帧的style，有delay就是delay开始时。\r\n\r\n","url":"https://github.com/gwl002/gwl002.github.io/issues/12","createdAt":"2021-12-21T14:49:31Z","tags":[{"name":"css","color":"F49416"}],"description":"理解css动画属性animation-fill-mode为both的情况","keywords":["css","animation","animation-fill-mode"],"headType":"article"},"__N_SSG":true}