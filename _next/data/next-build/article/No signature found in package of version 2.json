{"pageProps":{"title":"No signature found in package of version 2","body":"### 最近googleplay要求将android target version升级至30，不然不能上store。升级后又发现在android11上install失败。查找原因发现，在安卓11的机器上adb install后出现这个错误，search后发现原来android11以后不再支持v1签名，必须使用v2签名。\r\n![image](https://user-images.githubusercontent.com/18588945/142794410-c6ff32ab-157d-4db6-ad2b-283ebfab6f2b.png)\r\n\r\n### v1签名和v2签名的区别\r\n```\r\nV1：可对签名后的文件，作适当修改，并重新压缩。 \r\nV2：不能对签名后的 APK作任何修改，包括重新解压。因为它是针对字节进行的签名，所以任何改动都会影响最终结果。\r\n```\r\n\r\n### 解决方案\r\n1. 手动\r\n```\r\nsigningConfigs {\r\n        debug {\r\n            storeFile file('xxxxx.jks')\r\n            storePassword '123456'\r\n            keyAlias 'dev'\r\n            keyPassword '123456'\r\n            v2SigningEnabled true\r\n        }\r\n    }\r\n```\r\n2. appcenter\r\n删掉keystore文件，重新上传就自动好了\r\n[https://github.com/microsoft/appcenter/issues/1990#issuecomment-856960698](url)\r\n\r\n","url":"https://github.com/gwl002/gwl002.github.io/issues/10","createdAt":"2021-11-22T03:10:39Z","tags":["工作经验","react-native"],"headType":"article"},"__N_SSG":true}