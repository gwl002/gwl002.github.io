<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3DGNKE718G"></script><meta http-equiv="x-ua-compatible" content="IE=edge; chrome=1" data-next-head=""/><meta name="application-name" content="gwl002&#x27;s blog" data-next-head=""/><title data-next-head="">暮天云光-理解animation-fill-mode属性</title><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="理解css动画属性animation-fill-mode为both的情况" data-next-head=""/><meta property="og:title" content="暮天云光-理解animation-fill-mode属性" data-next-head=""/><meta property="og:description" content="理解css动画属性animation-fill-mode为both的情况" data-next-head=""/><meta name="keywords" content="css,animation,animation-fill-mode" data-next-head=""/><link rel="shortcut icon" href="/favicon.ico?"/><link rel="preload" href="/_next/static/css/5546acd303353f69.css" as="style"/><link rel="preload" href="/_next/static/css/3f5b9e40b55cc87f.css" as="style"/><link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject
                                =function(){}</script><script>
                                    window.dataLayer = window.dataLayer || [];
                                    function gtag(){dataLayer.push(arguments);}
                                    gtag('js', new Date());
                                    gtag('config', 'G-3DGNKE718G');
                                    </script><link rel="stylesheet" href="/_next/static/css/5546acd303353f69.css" data-n-g=""/><link rel="stylesheet" href="/_next/static/css/3f5b9e40b55cc87f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-6ffd07a3317375c1.js" defer=""></script><script src="/_next/static/chunks/framework-10ea8e61138a58ea.js" defer=""></script><script src="/_next/static/chunks/main-fcb13ce1ba122412.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ef37c03c78318cfe.js" defer=""></script><script src="/_next/static/chunks/166-b07ac90dd3726f11.js" defer=""></script><script src="/_next/static/chunks/pages/article/%5Bid%5D-955331685e0e3e15.js" defer=""></script><script src="/_next/static/next-build/_buildManifest.js" defer=""></script><script src="/_next/static/next-build/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="navbar_navbar__DLtmj"><div class="navbar_containerFluid__mUw8m"><a href="/"><a class="navbar_navbarHeader__pD7He">暮天云光</a></a><ul class="navbar_nav__mA8Ko"><li><a href="/"><a>HOME</a></a></li><li><a href="/about"><a>关于</a></a></li><li><a href="/game"><a>小游戏</a></a></li><li><a href="/archives"><a>归档</a></a></li><li><a href="/tag"><a>标签</a></a></li></ul><button class="navbar_navToggle__7O7ON" id="nav-toggle"><span class="navbar_iconBar__igEr6"></span><span class="navbar_iconBar__igEr6 navbar_mid__RikJj"></span><span class="navbar_iconBar__igEr6"></span></button></div></nav><header class="header_header__LUADv"><div class="container"><div class="column"><div class="content"><div class="header_articleHeading__TqTGo"><div class="header_tags__4xghr"><a href="/tag#css"><a>css</a></a></div><h1>理解animation-fill-mode属性</h1><span class="header_meta__L2LEO">Posted by gwl002 on <!-- -->2021-12-21</span></div></div></div></div></header><article><div class="container"><div class="column"><div class="content"><div class="article_article__HpMhr"><p>animation-fill-mode作为css3动画的一个重要属性很常见，但是大多用于把动画停在最后一帧，也就是<strong>forwards</strong>值的用法。在多年的前端开发中很少关注其他几个值，今天看<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-fill-mode">文档</a>发现对于backwards(一直以为就是回到初始状态和none没什么两样)和both一直没有正确的了解，文档英文描述晦涩难懂，demo也没有什么详细说明，所以打算一探究竟。</p>
<h3>属性值</h3>
<ul>
<li>none 默认值</li>
</ul>
<blockquote>
<p>The animation will not apply any styles to the target when it&#x27;s not executing. The element will instead be displayed using any other CSS rules applied to it. This is the default value.</p>
</blockquote>
<pre><code node="[object Object]"></code></pre>
<ul>
<li>forwards</li>
</ul>
<blockquote>
<p>The target will retain the computed values set by the last keyframe encountered during execution.</p>
</blockquote>
<pre><code node="[object Object]"></code></pre>
<ul>
<li>backwards</li>
</ul>
<blockquote>
<p>The animation will apply the values defined in the first relevant keyframe as soon as it is applied to the target, and retain this during the animation-delay period.</p>
</blockquote>
<pre><code node="[object Object]"></code></pre>
<ul>
<li>both</li>
</ul>
<blockquote>
<p>The animation will follow the rules for both forwards and backwards, thus extending the animation properties in both directions.
动画将同时有forwards和afterwards的特性。</p>
</blockquote>
<h3><a href="https://jsfiddle.net/gwl002/57drgsct/23/">demo</a></h3>
<p>比较4个值不同的表现</p>
<ul>
<li>none 小球先是绿色，delay3秒后才变为红色，最后变黄色，回到原点</li>
<li>forwards 小球先是绿色，delay3秒后才变为红色，最后变黄色，保持在终点</li>
<li>afterwards 小球直接变红色，delay3秒后，动画开始，慢慢变黄色，动画结束回到原点</li>
<li>both 小球直接变红色，delay3秒后，动画开始，慢慢变黄色，动画结束保持在终点</li>
</ul>
<h3>总结</h3>
<p>以前想当然的以为afterwards就是回到原点，forwards就是保持在终点，其实是错误的。afterwards是在动画开始时第一时间选择第一帧的style，有delay就是delay开始时。</p><hr/></div><strong class="article_remark__Za7XM"><a href="https://github.com/gwl002/gwl002.github.io/issues/12">在github上参与本文讨论</a></strong><div class="home_sidebar__Oqqk_"><section><h5><a href="/tags"><a>FEATURED TAGS</a></a></h5><ul><li class="home_tag__YZjS0"><a href="/tag#css"><a>css</a></a></li></ul></section></div></div></div></div></article><footer class="footer_footer__YtHeK"><div class="footer_copywriting__6tSKT"><p>Copyright © 暮天云光 <!-- -->2025</p><p><span>Posted by  <a href="https://github.com/gwl002" target="_blank" rel="noopener noreferrer">gwl002</a></span><span> | 订阅本站<iframe style="margin-left:2px;margin-bottom:-5px" frameBorder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=gwl002&amp;repo=gwl002.github.io&amp;type=star&amp;count=false"></iframe></span></p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"c8f8e9c93e4779383ed990a92b6c0831","title":"理解animation-fill-mode属性","body":"animation-fill-mode作为css3动画的一个重要属性很常见，但是大多用于把动画停在最后一帧，也就是**forwards**值的用法。在多年的前端开发中很少关注其他几个值，今天看[文档](https://developer.mozilla.org/en-US/docs/Web/CSS/animation-fill-mode)发现对于backwards(一直以为就是回到初始状态和none没什么两样)和both一直没有正确的了解，文档英文描述晦涩难懂，demo也没有什么详细说明，所以打算一探究竟。\r\n\r\n### 属性值\r\n- none 默认值\r\n\u003e The animation will not apply any styles to the target when it's not executing. The element will instead be displayed using any other CSS rules applied to it. This is the default value.\r\n\r\n    在动画不执行时，不会赋予任何target任何style，动画执行结束回归原样\r\n- forwards\r\n\u003e The target will retain the computed values set by the last keyframe encountered during execution.\r\n\r\n    target在动画执行结束后保持最后一帧的style\r\n- backwards\r\n\r\n\u003e The animation will apply the values defined in the first relevant keyframe as soon as it is applied to the target, and retain this during the animation-delay period.\r\n\r\n    动画将在执行的第一时间将style赋予target，包括delay的时候，这就是none和backwards的区别，当第一帧的属性和target原来的属性不同的时候特别明显。\r\n- both\r\n\r\n\u003e The animation will follow the rules for both forwards and backwards, thus extending the animation properties in both directions.\r\n    动画将同时有forwards和afterwards的特性。\r\n\r\n### [demo](https://jsfiddle.net/gwl002/57drgsct/23/)\r\n比较4个值不同的表现\r\n- none 小球先是绿色，delay3秒后才变为红色，最后变黄色，回到原点\r\n- forwards 小球先是绿色，delay3秒后才变为红色，最后变黄色，保持在终点\r\n- afterwards 小球直接变红色，delay3秒后，动画开始，慢慢变黄色，动画结束回到原点\r\n- both 小球直接变红色，delay3秒后，动画开始，慢慢变黄色，动画结束保持在终点\r\n\r\n### 总结\r\n以前想当然的以为afterwards就是回到原点，forwards就是保持在终点，其实是错误的。afterwards是在动画开始时第一时间选择第一帧的style，有delay就是delay开始时。\r\n\r\n","url":"https://github.com/gwl002/gwl002.github.io/issues/12","createdAt":"2021-12-21T14:49:31Z","tags":[{"name":"css","color":"F49416"}],"description":"理解css动画属性animation-fill-mode为both的情况","keywords":["css","animation","animation-fill-mode"],"headType":"article"},"__N_SSG":true},"page":"/article/[id]","query":{"id":"c8f8e9c93e4779383ed990a92b6c0831"},"buildId":"next-build","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>